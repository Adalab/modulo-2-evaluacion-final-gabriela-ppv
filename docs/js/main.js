const f="https://placehold.co/250x350/0000ff/ffff00/Anime",h=document.querySelector(".js-buttonsearch"),g=document.querySelector(".js-buttonreset"),r=document.querySelector(".js-favoriteslist"),s=document.querySelector(".js-resultslist"),m=document.querySelector(".js-input"),d=document.querySelector(".js-title-result");let o="",l=[],n=[];function v(){fetch(`https://api.jikan.moe/v4/anime?q=${o}`).then(e=>e.json()).then(e=>{l=e.data,L()})}function S(e){e.preventDefault(),o=m.value,o!==""&&v(),s.innerHTML=""}h.addEventListener("click",S);function F(e){const t=parseInt(e.currentTarget.id),c=l.find(i=>parseInt(i.mal_id)===t);n.findIndex(i=>t===parseInt(i.mal_id))===-1&&(n.push(c),localStorage.setItem("animesFav",JSON.stringify(n))),u()}function A(){const e=document.querySelectorAll(".js-anime");for(const t of e)t.addEventListener("click",F)}function L(){s.innerHTML="",m.value===""?d.classList.add("hidden"):d.classList.remove("hidden");for(const e of l){let t=e.images.webp.image_url;t==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(t=f);const a=n.findIndex(i=>i.mal_id===e.mal_id)!==-1?"favchange":"";s.innerHTML+=`<li class =" anime js-anime ${a}" id="${e.mal_id}">
       <h5 class ="title_anime">${e.title}</h5>
      <img src="${t}" alt="foto portada Anime">
      </li>`}A()}function u(){r.innerHTML="";for(const e of n){let t=e.images.webp.image_url;t==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(t=f),r.innerHTML+=`<li class =" anime js-anime" id="${e.mal_id}">
         <h5 class ="title_anime">${e.title}</h5>
          <img src="${t}" alt="foto portada Anime">
          <button class=" btn__css js-remov">Eliminar</button>
          </li>`}I()}function y(e){const a=e.target.parentNode.id,i=n.findIndex(p=>parseInt(p.mal_id)===parseInt(a));i!==-1&&(n.splice(i,1),localStorage.setItem("animesFav",JSON.stringify(n)),u())}function I(){const e=document.querySelectorAll(".js-remov");for(const t of e)t.addEventListener("click",y)}function j(e){e.preventDefault(),o="",l=[],n=[],r.innerHTML="",s.innerHTML="",m.value="",d.classList.add("hidden"),localStorage.setItem("animesFav",JSON.stringify([]))}g.addEventListener("click",j);function _(){const e=JSON.parse(localStorage.getItem("animesFav"));e!=null?(n=e,u()):v()}_();
//# sourceMappingURL=main.js.map
